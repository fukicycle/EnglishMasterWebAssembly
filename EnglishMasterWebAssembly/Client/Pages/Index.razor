@page "/"
@using EnglishMasterWebAssembly.Shared.Models
@inject HttpClient Http

<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.
@if (VocabularyList == null)
{
    <div class="spinner-border"></div>
}
else
{
    foreach (var item in VocabularyList)
    {
        <div style="border: solid 1px; border-rounded:10px;">
            <div>@WordList.First(a => a.Id == item.WordId).Word1</div>
            <div>@item.Meaning</div>
            <div>@PartOfSpeechList.First(a => a.Id == item.PartOfSpeechId).InJapanese</div>
            <div>@PartOfSpeechList.First(a => a.Id == item.PartOfSpeechId).Name</div>
        </div>
    }
}

@code {
    private List<Vocabulary> VocabularyList = null;
    private List<Word> WordList = null;
    private List<PartOfSpeech> PartOfSpeechList = null;

    protected override async Task OnInitializedAsync()
    {
        WordList = await Http.GetFromJsonAsync<List<Word>>("Word");
        PartOfSpeechList = await Http.GetFromJsonAsync<List<PartOfSpeech>>("PartOfSpeech");
        VocabularyList = await Http.GetFromJsonAsync<List<Vocabulary>>("Vocabulary");
    }
}